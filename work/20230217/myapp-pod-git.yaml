apiVersion: v1
kind: Pod
metadata:
  name: myapp-pod-git
spec:
  initContainers:
    - name: git-clone
      image: alpine/git
      args:
        - clone
        - --single-branch
        - --
        - https://github.com/kubernetes/kubernetes
        - /repo
      volumeMounts:
        - name: git-repository # .spec.volumes.name과 일치해야 함
          mountPath: /repo
  containers:
    - name: git-container
      image: busybox:latest
      args: ['tail', '-f', '/dev/null']
      volumeMounts:
        - name: git-repository # .spec.volumes.name과 일치해야 함
          mountPath: /repo
  volumes:
    - name: git-repository
      emptyDir: {}
